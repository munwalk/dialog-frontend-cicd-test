<!-- 채팅봇 -->
<div class="chat-bot" id="chatBot">
    <!-- 히스토리 사이드바 -->
    <div id="historySidebar">
        <div class="history-header">
            <h3>대화 기록</h3>
            <button class="close-history-btn" onclick="toggleHistory()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12"/>
                </svg>
            </button>
        </div>
        <div id="historyList"></div>
    </div>

    <!-- 배경 오버레이도 chat-bot 안으로 이동 -->
    <div id="historyOverlay" class="history-overlay"></div>

    <div class="chat-header">
        <div class="chat-info">
            <div class="chat-avatar">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
                </svg>
            </div>
            <div class="chat-status">
                <div class="chat-title">AI 어시스턴트</div>
                <div class="chat-online">
                    <span class="online-dot"></span> 온라인
                </div>
            </div>
        </div>
        
        <!-- 버튼 그룹 -->
        <div class="chat-header-buttons">
            <!-- 히스토리 (시계 아이콘) -->
            <button class="header-icon-btn" onclick="toggleHistory()" title="히스토리">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                </svg>
            </button>
            
            <!-- 새 대화 (+ 아이콘) -->
            <button class="header-icon-btn" onclick="startNewChat()" title="새 대화">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="12" y1="5" x2="12" y2="19" />   
                    <line x1="5" y1="12" x2="19" y2="12" />   
                </svg>
            </button>
            
            <!-- 닫기 (X 아이콘) -->
            <button class="close-chat-btn" onclick="closeChat()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12" />
                </svg>
            </button>
        </div>
    </div>

    <!-- 탭 형태 모드 선택 -->
    <div class="chat-mode-tabs">
        <button id="searchModeBtn" class="mode-tab active" onclick="switchChatMode('search')">
            📝 회의록 검색
        </button>
        <button id="faqModeBtn" class="mode-tab" onclick="switchChatMode('faq')">
            💡 FAQ
        </button>
    </div>

    <div class="chat-messages" id="chatMessages">
        <div class="message bot">
            <div class="message-bubble">안녕하세요! 👋 오늘도 멋진 회의를 시작해보세요.</div>
        </div>
    </div>

    <div class="chat-input-area">
        <div class="chat-input-wrapper">
            <input type="text" class="chat-input" id="chatInput" placeholder="메시지를 입력하세요..." onkeypress="handleChatEnter(event)">
            <button class="send-btn" onclick="sendMessage()">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z" />
                </svg>
            </button>
        </div>
    </div>
</div>